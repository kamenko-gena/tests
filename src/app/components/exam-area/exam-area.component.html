<div class="container">
    @if (questionsForShow()){
    <div class="title-container">
        <p>–í–æ–ø—Ä–æ—Å: {{currentNum+1}} –∏–∑ {{allQuestionsData.length}}</p>
        <div class="filter-container">
            <tui-input-number
                class="input-number-field"
                tuiTextfieldSize="s"
                [formControl]="inputQuestionNumber"
                (input)="setQuestionNumber()"
                >–ü–µ—Ä–µ–π—Ç–∏ –∫ –≤–æ–ø—Ä–æ—Å—É
            </tui-input-number>
            <tui-checkbox-labeled [formControl]="setRandom"
                >–°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤</tui-checkbox-labeled
            >
        </div>
    </div>

    <h3>{{questionsForShow()?.question}}</h3>
    <tui-expand class="error-expand" [expanded]="showErrorExpand()">
        <h5>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!</h5>
        <p>{{questionsForShow()?.description}}</p>
    </tui-expand>
    <tui-expand class="correct-expand" [expanded]="showCorrectExpand()">
        <h5>–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</h5>
    </tui-expand>
    <div class="answers">
        <tui-radio-labeled [formControl]="userAnswer" size="m" item="a">
            <span>a: {{questionsForShow()?.answers?.a}}</span>
        </tui-radio-labeled>
        <tui-radio-labeled [formControl]="userAnswer" size="m" item="b">
            <span>b: {{questionsForShow()?.answers?.b}}</span>
        </tui-radio-labeled>
        <tui-radio-labeled [formControl]="userAnswer" size="m" item="c">
            <span>c: {{questionsForShow()?.answers?.c}}</span>
        </tui-radio-labeled>
    </div>

    <div class="buttons-container">
        <div class="arrow-buttons-container">
            <button
                [disabled]="currentNum <= 0"
                appearance="flat"
                icon="tuiIconArrowLeft"
                tuiButton
                size="s"
                type="button"
                (click)="showQuestionByNumber(currentNum-1)"
            >
                –ù–∞–∑–∞–¥
            </button>

            <button
                [disabled]="currentNum === allQuestionsData.length - 1"
                appearance="flat"
                iconRight="tuiIconArrowRight"
                tuiButton
                size="s"
                type="button"
                (click)="showQuestionByNumber(currentNum+1)"
            >
                –î–∞–ª–µ–µ
            </button>
        </div>

        <button
            size="m"
            appearance="accent"
            [disabled]="userAnswer.status === 'DISABLED'"
            tuiButton
            (click)="answer((questionsForShow()?.correctAnswer??''), currentNum)"
        >
            –û—Ç–≤–µ—Ç–∏—Ç—å
        </button>
    </div>
    <div class="footer-buttons">
        <button
            (click)=" resetDataQuestions()"
            appearance="outline"
            size="s"
            tuiButton
        >
            –ó–∞–Ω–æ–≤–æ
        </button>
        <button appearance="outline" size="s" routerLink="/" tuiButton>
            –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
        </button>
    </div>

    }
</div>

<ng-template #ExamFailed>
    <tui-badge
        class="faild-badge-title"
        status="custom"
        value="üòî –≠–∫–∑–∞–º–µ–Ω –Ω–µ —Å–¥–∞–Ω!"
    ></tui-badge>
    <div>
        –í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ <b>{{userCorrectAnswers}}</b> –≤–æ–ø—Ä–æ—Å(–æ–≤) –∏–∑
        <b>{{allQuestionsData.length}}</b>
    </div>
</ng-template>

<ng-template #ExamPassed>
    <tui-badge
        class="passed-badge-title"
        status="custom"
        value="üòé –≠–∫–∑–∞–º–µ–Ω —Å–¥–∞–Ω!"
    ></tui-badge>
    <div>
        –í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ <b>{{userCorrectAnswers}}</b> –≤–æ–ø—Ä–æ—Å(–æ–≤) –∏–∑
        <b>{{allQuestionsData.length}}</b>
    </div>
</ng-template>
